{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{supabase}from'../supabase';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{// Check if user is authenticated\nconst checkUser=async()=>{const{data:{user}}=await supabase.auth.getUser();if(!user){navigate('/');return;}setUser(user);setLoading(false);};checkUser();// Listen for auth changes\nconst{data:{subscription}}=supabase.auth.onAuthStateChange(async(event,session)=>{if(event==='SIGNED_OUT'){navigate('/');}else if(session!==null&&session!==void 0&&session.user){setUser(session.user);setLoading(false);}});return()=>subscription.unsubscribe();},[navigate]);const handleSignOut=async()=>{await supabase.auth.signOut();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Everla\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You've successfully signed in to your account.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user===null||user===void 0?void 0:user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User ID:\"}),\" \",user===null||user===void 0?void 0:user.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Sign In:\"}),\" \",new Date(user===null||user===void 0?void 0:user.last_sign_in_at).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"signout-button\",children:\"Sign Out\"})]})});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","supabase","jsx","_jsx","jsxs","_jsxs","Home","user","setUser","loading","setLoading","navigate","checkUser","data","auth","getUser","subscription","onAuthStateChange","event","session","unsubscribe","handleSignOut","signOut","className","children","email","id","Date","last_sign_in_at","toLocaleString","onClick"],"sources":["/Users/jackdooney/Everla Project/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabase';\nimport './Home.css';\n\nconst Home = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check if user is authenticated\n    const checkUser = async () => {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        navigate('/');\n        return;\n      }\n      setUser(user);\n      setLoading(false);\n    };\n\n    checkUser();\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (event === 'SIGNED_OUT') {\n          navigate('/');\n        } else if (session?.user) {\n          setUser(session.user);\n          setLoading(false);\n        }\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"home-container\">\n        <div className=\"loading\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"home-container\">\n      <div className=\"home-content\">\n        <div className=\"home-header\">\n          <h1>Welcome to Everla</h1>\n          <p>You've successfully signed in to your account.</p>\n        </div>\n        \n        <div className=\"user-info\">\n          <h2>Account Information</h2>\n          <p><strong>Email:</strong> {user?.email}</p>\n          <p><strong>User ID:</strong> {user?.id}</p>\n          <p><strong>Last Sign In:</strong> {new Date(user?.last_sign_in_at).toLocaleString()}</p>\n        </div>\n\n        <button onClick={handleSignOut} className=\"signout-button\">\n          Sign Out\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}